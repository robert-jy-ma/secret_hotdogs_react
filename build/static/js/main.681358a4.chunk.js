(this.webpackJsonpapp_react=this.webpackJsonpapp_react||[]).push([[0],{114:function(e,t,a){e.exports=a(134)},119:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"all",(function(){return oe})),a.d(n,"getCreatedBy",(function(){return ce})),a.d(n,"getCreatedByQuery",(function(){return ie})),a.d(n,"add",(function(){return le}));var r={};a.r(r),a.d(r,"login",(function(){return se})),a.d(r,"register",(function(){return ue})),a.d(r,"get",(function(){return me}));var o=a(0),c=a.n(o),i=a(13),l=a.n(i),s=(a(119),a(188)),u=a(103),m=a(186),d=a(36),p=a(9),f=c.a.createContext();function b(e){var t=Object(o.useState)(null),a=Object(p.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(null),l=Object(p.a)(i,2),s=l[0],u=l[1];return Object(o.useEffect)((function(){var e=sessionStorage.getItem("userId"),t=sessionStorage.getItem("userName");r(e),u(t)}),[]),Object(o.useEffect)((function(){null===n?sessionStorage.removeItem("userId"):sessionStorage.setItem("userId",n)}),[n]),Object(o.useEffect)((function(){null===s?sessionStorage.removeItem("userName"):sessionStorage.setItem("userName",s)}),[s]),c.a.createElement(f.Provider,{value:{userId:n,setCurrentUserId:function(e){r((function(t){return e}))},userName:s,setCurrentUserName:function(e){u((function(t){return e}))}}},e.children)}var g={palette:{primary:{main:"#cbb09c"},secondary:{main:"#ffffff"},text:{primary:"#212121",secondary:"#9e9e9e"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},overrides:{MuiButton:{containedPrimary:{color:"#ffffff"},textPrimary:{color:"#cbb09c"}},MuiInputLabel:{root:{fontSize:14}},MuiSnackbarContent:{root:{backgroundColor:"#00e676"}},MuiCard:{root:{}},MuiCardMedia:{root:{height:0,paddingTop:"100%"}},MuiListItem:{root:{textTransform:"capitalize"}},MuiAppBar:{colorPrimary:{backgroundColor:"#212121"}}}},h=a(163),v=a(164),E=a(28),j=a(165),y=a(160),w=a(18);var x=function(e){var t=e.color,a=e.underline,n=e.to;return c.a.createElement(y.a,{component:w.b,color:t,underline:a,to:n},e.children)};var O=Object(d.g)((function(e){var t=Object(o.useContext)(f),a=t.userId,n=t.setCurrentUserId,r=t.userName,i=t.setCurrentUserName;return c.a.createElement(h.a,{position:"sticky",elevation:0},c.a.createElement(v.a,null,c.a.createElement(s.a,{display:"flex",alignItems:"center",width:1},c.a.createElement(s.a,{flexGrow:1},c.a.createElement(E.a,{variant:"h6"},c.a.createElement(x,{color:"primary",underline:"none",to:"/"},"Secret Ninja Hotdogs"))),c.a.createElement(s.a,{p:1},a&&c.a.createElement(E.a,{variant:"subtitle1",color:"secondary"},"Welcome, ",r,"!"),!a&&c.a.createElement(j.a,{component:w.b,to:"/register",color:"secondary",variant:"text",disableElevation:!0},"Sign Up")),c.a.createElement(s.a,null,a&&c.a.createElement(j.a,{color:"primary",variant:"text",disableElevation:!0,onClick:function(){return n(null),i(null),void e.history.push("/")}},"Logout"),!a&&c.a.createElement(j.a,{component:w.b,to:"/login",color:"primary",variant:"text",disableElevation:!0},"Login")))))}));var S=function(e){return c.a.createElement(E.a,{variant:"h4",color:"textSecondary",align:"center"},e.text)},C=a(7),k=a.n(C),I=a(14),N=a(68),P=a.n(N);var A=function(e){return c.a.createElement(s.a,{bgcolor:"secondary.main",display:"flex",flexDirection:"column",justifyContent:"center",p:2},e.children)},U=a(187),T=a(92),W=a.n(T),D=a(93),L=a.n(D),B=a(94),R=a.n(B),V=a(95),z=a.n(V),M=a(96),F=a.n(M),G=a(64),H=a.n(G),Y=a(65),_=a.n(Y),J=a(49),Q=a.n(J),Z={user:c.a.createElement(W.a,null),email:c.a.createElement(L.a,null),password:c.a.createElement(R.a,null),passwordConfirm:c.a.createElement(z.a,null),hotdogTitle:c.a.createElement(F.a,null),hotdogSausage:c.a.createElement(H.a,null),hotdogSauce:c.a.createElement(_.a,null),hotdogTopping:c.a.createElement(Q.a,null),none:c.a.createElement(Q.a,{color:"secondary"})};var $=function(e){var t=e.type,a=e.iconName,n=e.label,r=e.value,o=e.setValue,i=e.error;return c.a.createElement(s.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",p:1},c.a.createElement(s.a,{mr:.5},Z[a]),c.a.createElement(s.a,{flexGrow:1,p:1},c.a.createElement(U.a,{label:n,type:t,value:r,onChange:function(e){return o(e.target.value)},error:""!==i.trim(),helperText:i,fullWidth:!0})))},K=a(169),X=a(168),q=Object(X.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},buttonSpinner:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));var ee=function(e){var t=e.text,a=e.loading,n=e.handleClick,r=q();return c.a.createElement("div",{className:r.wrapper},c.a.createElement(j.a,{color:"primary",variant:"contained",disabled:a,onClick:function(){return n()},disableElevation:!0},t),a&&c.a.createElement(K.a,{size:24,className:r.buttonSpinner}))};var te=function(e){var t=e.text,a=e.loading,n=e.handleClick;return c.a.createElement(s.a,{display:"flex",justifyContent:"center",p:1},c.a.createElement(ee,{text:t,loading:a,handleClick:n}))};var ae=function(e){return c.a.createElement(s.a,{display:"flex",justifyContent:"center",p:1},c.a.createElement(E.a,{color:"textSecondary",variant:"body2"},e.children))},ne={apiKey:"AIzaSyCedmZ8AuayWY5Y5M5nODo1FWMRwsN1gWk",authDomain:"secret-hotdogs.firebaseapp.com",databaseURL:"https://secret-hotdogs.firebaseio.com",projectId:"secret-hotdogs",storageBucket:"secret-hotdogs.appspot.com",messagingSenderId:"384829400176",appId:"1:384829400176:web:f2d1a3a192bbf62063c0b5"},re=a(74),oe=(a(126),a(128),function(){var e=Object(I.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){re.firestore().collection("hotdogs").get().then((function(t){var a=[];t.forEach((function(e){var t=e.data();t.id=e.id,t.ts=e.data().ts.seconds,a.push(t)})),e(a)})).catch((function(e){return t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ce=function(){var e=Object(I.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){re.firestore().collection("hotdogs").where("creatorId","==",t).get().then((function(t){var a=[];t.forEach((function(e){var t=e.data();t.id=e.id,t.ts=e.data().ts.seconds,a.push(t)})),e(a)})).catch((function(e){return a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(I.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.firestore().collection("hotdogs").where("creatorId","==",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(I.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ts=re.firestore.Timestamp.now(),e.abrupt("return",new Promise((function(e,a){re.firestore().collection("hotdogs").add(t).then((function(t){return e(t.id)})).catch((function(e){return a(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(I.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){re.auth().signInWithEmailAndPassword(t,a).then((function(t){return e(t.user.uid)})).catch((function(e){return n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(I.a)(k.a.mark((function e(t,a,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){re.auth().createUserWithEmailAndPassword(a,n).then((function(a){var n=a.user.uid;re.firestore().collection("users").doc(n).set({name:t}).then((function(){return e(n)})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(I.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){re.firestore().collection("users").doc(t).get().then((function(t){return e(t.data())})).catch((function(e){return a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();re.initializeApp(ne);var de=function(){var e=Object(I.a)(k.a.mark((function e(t,a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.login(t,a);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log("database: "+e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(I.a)(k.a.mark((function e(t,a,n){var o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.register(t.trim(),a.trim(),n);case 3:return o=e.sent,console.log("database: User with id "+o+" successfully created"),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),console.log("database: "+e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(I.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.get(t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log("database: "+e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(I.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCreatedByQuery(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(I.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.add(t);case 3:return a=e.sent,console.log("database: Hotdog with id "+a+" successfully created"),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),console.log("database: "+e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();var he=Object(d.g)((function(e){var t=Object(o.useContext)(f),a=t.setCurrentUserId,n=t.setCurrentUserName,r=Object(o.useState)(""),i=Object(p.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(" "),m=Object(p.a)(u,2),d=m[0],b=m[1],g=Object(o.useState)(""),h=Object(p.a)(g,2),v=h[0],E=h[1],j=Object(o.useState)(" "),y=Object(p.a)(j,2),w=y[0],O=y[1],S=Object(o.useState)(!1),C=Object(p.a)(S,2),N=C[0],U=C[1];return c.a.createElement(A,null,c.a.createElement($,{type:"text",iconName:"email",label:"Email",value:l,setValue:s,error:d}),c.a.createElement($,{type:"password",iconName:"password",label:"Password",value:v,setValue:E,error:w}),c.a.createElement(te,{text:"Login",loading:N,handleClick:function(){var t=!1,r=!1,o=l.trim();o?P()(o)?(b(" "),t=!0):b("Invalid email"):b("Please fill out this field"),s(o),v?(O(" "),r=!0):O("Please fill out this field"),t&&r&&(U(!0),Object(I.a)(k.a.mark((function t(){var r,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(l.trim(),v);case 2:if(r=t.sent,console.log("loginUserId: "+r),U(!1),r){t.next=10;break}b("Incorrect email or password"),O("Incorrect email or password"),t.next=17;break;case 10:return t.next=12,fe(r);case 12:o=t.sent,console.log("loginUserName: "+o.name),n(o.name),a(r),e.history.push("/");case 17:case"end":return t.stop()}}),t)})))())}}),c.a.createElement(ae,null,"Don't have an account? ",c.a.createElement(x,{color:"primary",underline:"hover",to:"/register"}," Sign Up ")))})),ve=a(170),Ee=a(190),je=a(97),ye=a.n(je),we=a(98),xe=a.n(we);var Oe=function(e){var t=e.open,a=e.setOpen,n=e.message,r=e.action,o=e.actionRoute,i=function(e,t){"clickaway"!==t&&a(!1)},l=c.a.createElement(s.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},c.a.createElement(s.a,{mr:2},c.a.createElement(ye.a,null)),c.a.createElement(s.a,null,c.a.createElement(E.a,{variant:"subtitle2",display:"inline"},n))),u=c.a.createElement(ve.a,{size:"small","aria-label":"close",onClick:i},c.a.createElement(xe.a,{color:"secondary",fontSize:"small"})),m=u;return r&&(m=c.a.createElement("div",null,c.a.createElement(j.a,{component:w.b,to:o,color:"secondary",variant:"text",disableElevation:!0},r),u)),c.a.createElement(Ee.a,{open:t,autoHideDuration:1e4,onClose:i,message:l,action:m})};var Se=function(e){var t=Object(o.useState)(""),a=Object(p.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(" "),l=Object(p.a)(i,2),s=l[0],u=l[1],m=Object(o.useState)(""),d=Object(p.a)(m,2),f=d[0],b=d[1],g=Object(o.useState)(" "),h=Object(p.a)(g,2),v=h[0],E=h[1],j=Object(o.useState)(""),y=Object(p.a)(j,2),w=y[0],x=y[1],O=Object(o.useState)(" "),S=Object(p.a)(O,2),C=S[0],N=S[1],U=Object(o.useState)(""),T=Object(p.a)(U,2),W=T[0],D=T[1],L=Object(o.useState)(" "),B=Object(p.a)(L,2),R=B[0],V=B[1],z=Object(o.useState)(!1),M=Object(p.a)(z,2),F=M[0],G=M[1],H=Object(o.useState)(!1),Y=Object(p.a)(H,2),_=Y[0],J=Y[1],Q="Please fill out this field";return c.a.createElement(A,null,c.a.createElement($,{type:"text",iconName:"user",label:"Name",value:n,setValue:r,error:s}),c.a.createElement($,{type:"text",iconName:"email",label:"Email",value:f,setValue:b,error:v}),c.a.createElement($,{type:"password",iconName:"password",label:"Password",value:w,setValue:x,error:C}),c.a.createElement($,{type:"password",iconName:"passwordConfirm",label:"Confirm Password",value:W,setValue:D,error:R}),c.a.createElement(te,{text:"Register",loading:F,handleClick:function(){J(!1);var e=!1,t=!1,a=!1,o=!1,c=n.trim();c?(u(" "),e=!0):u(Q),r(c);var i=f.trim();i?P()(i)?(E(" "),t=!0):E("Invalid email"):E(Q),b(i),w?w.length<6?N("Password must be at least 6 characters long"):(N(" "),a=!0):N(Q),W!==w?V("Please make sure your passwords match"):(V(" "),o=!0),e&&t&&a&&o&&(G(!0),Object(I.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(n.trim(),f.trim(),w);case 2:t=e.sent,console.log("registerStatus: "+t),G(!1),t?(r(""),b(""),x(""),D(""),J(!0)):E("Email already in use, please type in a different email");case 6:case"end":return e.stop()}}),e)})))())}}),c.a.createElement(Oe,{open:_,setOpen:J,message:"Registration successful",action:"LOGIN",actionRoute:"/login"}))},Ce=a(51),ke=a(184),Ie=a(99),Ne=a(193),Pe=a(171),Ae=a(172),Ue=a(173),Te=a(174),We=a(167),De=a(175),Le=a(176),Be=a(177),Re=a(178),Ve=a(179),ze=a(100),Me=a.n(ze);var Fe=function(e){e.id;var t=e.title,a=e.ingredients,n=e.creatorName,r=e.ts,o=new Date(1970,0,1);o.setTime(1e3*r);var i=o.getDate()+" "+o.toLocaleString("default",{month:"long"})+", "+o.getFullYear(),l=c.a.createElement(Ne.a,null,n.charAt(0).toUpperCase());return c.a.createElement(Pe.a,null,c.a.createElement(Ae.a,{avatar:l,title:t+" by "+n,subheader:i}),c.a.createElement(Ue.a,{image:"https://www.svgrepo.com/show/133687/hot-dog.svg"}),c.a.createElement(Te.a,null,c.a.createElement(We.a,{dense:!0,disablePadding:!0,subheader:c.a.createElement(De.a,{color:"primary"}," Ingredients ")},c.a.createElement(Le.a,{divider:!0},c.a.createElement(Be.a,null,c.a.createElement(H.a,null)),c.a.createElement(Re.a,{primary:a.sausage})),c.a.createElement(Le.a,{divider:!0},c.a.createElement(Be.a,null,c.a.createElement(_.a,null)),c.a.createElement(Re.a,{primary:a.sauce})),c.a.createElement(Le.a,null,c.a.createElement(Be.a,null,c.a.createElement(Q.a,null)),c.a.createElement(Re.a,{primary:a.toppingA})),c.a.createElement(Le.a,{divider:!0},c.a.createElement(Re.a,{inset:!0,primary:a.toppingB})))),c.a.createElement(Ve.a,null,c.a.createElement(ve.a,null,c.a.createElement(Me.a,null))))},Ge=a(180),He=a(191),Ye=a(181),_e=a(182),Je=a(183),Qe=a(101),Ze=a.n(Qe);function $e(e,t,a){var n=!1,r=e.trim();return r?r.match(/^[A-Za-z0-9]+$/g)?(a(" "),n=!0):a("Invalid input - special characters not allowed"):a("Please fill out this field"),t(r),n}var Ke=function(){var e=Object(o.useState)(""),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(" "),i=Object(p.a)(r,2),l=i[0],s=i[1],u=Object(o.useState)(""),m=Object(p.a)(u,2),d=m[0],b=m[1],g=Object(o.useState)(" "),h=Object(p.a)(g,2),v=h[0],E=h[1],j=Object(o.useState)(""),y=Object(p.a)(j,2),w=y[0],x=y[1],O=Object(o.useState)(" "),S=Object(p.a)(O,2),C=S[0],N=S[1],P=Object(o.useState)(""),U=Object(p.a)(P,2),T=U[0],W=U[1],D=Object(o.useState)(" "),L=Object(p.a)(D,2),B=L[0],R=L[1],V=Object(o.useState)(""),z=Object(p.a)(V,2),M=z[0],F=z[1],G=Object(o.useState)(" "),H=Object(p.a)(G,2),Y=H[0],_=H[1],J=Object(o.useContext)(f),Q=J.userId,Z=J.userName,K=Object(o.useState)(!1),X=Object(p.a)(K,2),q=X[0],ee=X[1],ae=Object(o.useState)(!1),ne=Object(p.a)(ae,2),re=ne[0],oe=ne[1];return c.a.createElement(A,null,c.a.createElement($,{type:"text",iconName:"hotdogTitle",label:"Title",value:a,setValue:n,error:l}),c.a.createElement($,{type:"text",iconName:"hotdogSausage",label:"Sausage",value:d,setValue:b,error:v}),c.a.createElement($,{type:"text",iconName:"hotdogSauce",label:"Sauce",value:w,setValue:x,error:C}),c.a.createElement($,{type:"text",iconName:"hotdogTopping",label:"Topping A",value:T,setValue:W,error:B}),c.a.createElement($,{type:"text",iconName:"none",label:"Topping B",value:M,setValue:F,error:Y}),c.a.createElement(te,{text:"Submit",loading:q,handleClick:function(){var e,t,r,o,c;oe(!1),e=$e(a,n,s),t=$e(d,b,E),r=$e(w,x,N),o=$e(T,W,R),c=$e(M,F,_),e&&t&&r&&o&&c&&(ee(!0),Object(I.a)(k.a.mark((function e(){var t,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={creatorId:Q,creatorName:Z,title:a.trim(),ingredients:{sausage:d.trim(),sauce:w.trim(),toppingA:T.trim(),toppingB:M.trim()}},e.next=3,ge(t);case 3:r=e.sent,console.log("addStatus: "+r),ee(!1),r?(n(""),b(""),x(""),W(""),F(""),oe(!0)):console.log("addForm.js: something went wrong :(");case 7:case"end":return e.stop()}}),e)})))())}}),c.a.createElement(Oe,{open:re,setOpen:oe,message:"Posted new hotdog!"}))},Xe=Object(X.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(4),right:e.spacing(4)}}}));var qe=function(){var e=Object(o.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Xe();return c.a.createElement("div",null,c.a.createElement(Ge.a,{className:r.fab,"aria-label":"Add a hotdog",color:"primary",onClick:function(){n(!0)}},c.a.createElement(Ze.a,{color:"secondary"})),c.a.createElement(He.a,{fullWidth:!0,maxWidth:"xs",open:a,onClose:function(){n(!1)}},c.a.createElement(Ye.a,null," Post a new hotdog "),c.a.createElement(_e.a,null,c.a.createElement(Je.a,null,"Type in the details of your new hotdog."),c.a.createElement(Ke,null))))};var et=function(){var e=Object(o.useContext)(f).userId,t=Object(o.useState)([]),a=Object(p.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(!0),l=Object(p.a)(i,2),u=l[0],m=l[1],d=Object(o.useState)([]),b=Object(p.a)(d,2),g=b[0],h=b[1];return Object(o.useEffect)((function(){console.log("CALLED"),Object(I.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(e);case 2:t.sent.onSnapshot((function(e){m(!0);var t=[],a="";e.docChanges().forEach((function(e){var n=e.doc.data();n.id=e.doc.id,n.ts=e.doc.data().ts.seconds,t.push(n),a=e.type})),console.log("CHANGES:"),console.log(t),t.length>1&&t.sort((function(e,t){return t.ts-e.ts})),"added"===a?(r((function(e){return[].concat(t,Object(Ce.a)(e))})),h((function(e){return[].concat(t,Object(Ce.a)(e)).slice(0,3)}))):"removed"===a&&r((function(e){return e.filter((function(e){return e.id!==t[0].id}))})),m(!1)}));case 4:case"end":return t.stop()}}),t)})))()}),[e]),c.a.createElement(s.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},u&&c.a.createElement(K.a,{color:"primary",size:100}),!u&&c.a.createElement(ke.a,{container:!0,spacing:3},g.map((function(e,t){return c.a.createElement(ke.a,{item:!0,key:e.id,xs:4},(t+1)%3===0&&g.length<n.length&&c.a.createElement(Ie.a,{onEnter:function(){return function(e){console.log("LAST: "+e);var t=3;e+t>n.length&&(t=n.length-e);var a=n.slice(e,e+t);console.log(a),h((function(e){return[].concat(Object(Ce.a)(e),Object(Ce.a)(a))}))}(t+1)}}),c.a.createElement(Fe,{id:e.id,title:e.title,ingredients:e.ingredients,creatorName:e.creatorName,ts:e.ts}))}))),c.a.createElement(qe,null))},tt=a(102),at=a(185),nt=Object(X.a)((function(e){return{background:{backgroundImage:"url(".concat("https://res.cloudinary.com/noctisvirtus/image/upload/b_rgb:000000,o_15/v1590981061/hotdog_b.jpg",")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%"},wrapper:{height:"100%"},button:{minWidth:"200px"},span:{width:"73px",height:"4px",marginTop:"8px",marginRight:"auto",marginBottom:"0px",marginLeft:"auto",display:"block",backgroundColor:"#cbb09c"},message:Object(tt.a)({marginTop:e.spacing(4),marginBottom:e.spacing(4)},e.breakpoints.up("sm"),{marginTop:e.spacing(10)})}}));var rt=function(){var e=nt();return c.a.createElement(at.a,{maxWidth:!1,className:e.background},c.a.createElement(s.a,{className:e.wrapper,display:"flex",flexDirection:"column",justifyContent:"center"},c.a.createElement(E.a,{align:"center",color:"secondary",variant:"h2"},"EXPRESS YOUR TASTE",c.a.createElement("span",{className:e.span})),c.a.createElement(E.a,{className:e.message,align:"center",color:"secondary",variant:"body1"},"Discover secret hotdog recipes from people across the world"),c.a.createElement(s.a,{display:"flex",flexDirection:"row",justifyContent:"center"},c.a.createElement(j.a,{component:w.b,to:"/register",className:e.button,color:"primary",variant:"contained",size:"large",disableElevation:!0},"Sign Up"))))};var ot=function(){var e=Object(o.useContext)(f).userId;return e?e?c.a.createElement(at.a,{maxWidth:"md"},c.a.createElement(s.a,{display:"flex",flexDirection:"column",height:"100%"},c.a.createElement(s.a,{p:2,display:"flex",flexDirection:"row",justifyContent:"center"},c.a.createElement(S,{text:"Your Hotdogs"})),c.a.createElement(s.a,{display:"flex",flexDirection:"row",justifyContent:"center",flexGrow:1,width:"100%"},c.a.createElement(et,null)))):void 0:c.a.createElement(rt,null)};var ct=function(){return Object(o.useContext)(f).userId?c.a.createElement(d.a,{to:"/"}):c.a.createElement(at.a,{maxWidth:"xs"},c.a.createElement(s.a,{p:2},c.a.createElement(S,{text:"Login"})),c.a.createElement(he,null))};var it=function(){return c.a.createElement(at.a,{maxWidth:"xs"},c.a.createElement(s.a,{p:2},c.a.createElement(S,{text:"Sign Up"})),c.a.createElement(Se,null))},lt=Object(u.a)(g);var st=function(){return c.a.createElement(b,null,c.a.createElement(m.a,{theme:lt},c.a.createElement(s.a,{display:"flex",flexDirection:"column",height:"100%"},c.a.createElement(s.a,{display:"flex",flexDirection:"row",justifyContent:"center"},c.a.createElement(O,null)),c.a.createElement(s.a,{display:"flex",flexDirection:"row",justifyContent:"center",flexGrow:1,width:"100%"},c.a.createElement(d.d,null,c.a.createElement(d.b,{exact:!0,path:"/",component:ot}),c.a.createElement(d.b,{exact:!0,path:"/login",component:ct}),c.a.createElement(d.b,{exact:!0,path:"/register",component:it}))))))},ut=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function mt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,null,c.a.createElement(st,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ut?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):mt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):mt(t,e)}))}}()}},[[114,1,2]]]);
//# sourceMappingURL=main.681358a4.chunk.js.map